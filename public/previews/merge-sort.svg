<svg width="200" height="140" xmlns="http://www.w3.org/2000/svg">
  <rect width="200" height="140" fill="#1e293b"/>
  <g transform="translate(20,20)">
    <text x="0" y="-5" fill="#60a5fa" font-family="sans-serif" font-size="12">Merge Sort</text>
    <defs>
      <marker id="arrowHead" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
        <polygon points="0 0, 8 3, 0 6" fill="#60a5fa"/>
      </marker>
    </defs>
    
    <!-- Show runs moving as a unit (heights stay constant) -->
    <!-- Left run of size 2 (sorted): 20,30 -->
    <g id="leftRun" transform="translate(0,0)">
      <!-- Group highlight that moves with the run -->
      <rect x="-4" y="-2" width="40" height="86" fill="none" stroke="#60a5fa" stroke-width="1" opacity="0.25" rx="3" ry="3">
        <animate attributeName="opacity" values="0.25;1;0.25;0.25" keyTimes="0;0.33;0.66;1" dur="6s" repeatCount="indefinite"/>
      </rect>
      <text x="0" y="88" fill="#60a5fa" font-family="sans-serif" font-size="8">L run</text>
      <rect x="0" y="60" width="12" height="20" fill="#ef4444"/>
      <rect x="16" y="50" width="12" height="30" fill="#eab308"/>
  <animateTransform attributeName="transform" type="translate" values="0,0;16,0;16,0;0,0" keyTimes="0;0.33;0.66;1" dur="6s" repeatCount="indefinite"/>
    </g>

    <!-- Left leftover element (size 1): 40 -->
    <rect x="32" y="40" width="12" height="40" fill="#f97316"/>

    <!-- Right run of size 3 (sorted): 10,50,80 -->
    <g id="rightRun" transform="translate(48,0)">
      <rect x="0" y="70" width="12" height="10" fill="#22c55e"/>
      <rect x="16" y="30" width="12" height="50" fill="#3b82f6"/>
      <rect x="32" y="0" width="12" height="80" fill="#8b5cf6"/>
      <text x="0" y="88" fill="#60a5fa" font-family="sans-serif" font-size="8">R run</text>
      <rect x="-4" y="-2" width="56" height="86" fill="none" stroke="#60a5fa" stroke-width="1" opacity="0.25" rx="3" ry="3">
        <animate attributeName="opacity" values="0.25;0.25;1;0.25" keyTimes="0;0.33;0.66;1" dur="6s" repeatCount="indefinite"/>
      </rect>
  <animateTransform attributeName="transform" type="translate" additive="sum" values="0,0;0,0;-8,0;0,0" keyTimes="0;0.33;0.66;1" dur="6s" repeatCount="indefinite"/>
    </g>
    
    <!-- Divide indicators -->
    <line x1="0" y1="90" x2="42" y2="90" stroke="#60a5fa" stroke-width="1">
      <animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite"/>
    </line>
    <line x1="50" y1="90" x2="92" y2="90" stroke="#60a5fa" stroke-width="1">
      <animate attributeName="opacity" values="0;1;0" dur="2s" begin="1s" repeatCount="indefinite"/>
    </line>
  <text x="15" y="100" fill="#60a5fa" font-family="sans-serif" font-size="9">divide &amp; merge</text>
  
  <!-- Direction arrows to emphasize which run moves when -->
  <!-- Left run moves (0-33%) -->
  <line x1="38" y1="86" x2="52" y2="86" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrowHead)" opacity="0">
    <animate attributeName="opacity" values="0;1;0;0" keyTimes="0;0.16;0.33;1" dur="6s" repeatCount="indefinite"/>
  </line>
  <!-- Right run moves (33-66%) -->
  <line x1="96" y1="86" x2="80" y2="86" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrowHead)" opacity="0">
    <animate attributeName="opacity" values="0;0;1;0" keyTimes="0;0.33;0.5;1" dur="6s" repeatCount="indefinite"/>
  </line>
  </g>
</svg>
